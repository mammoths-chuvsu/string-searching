# Итоговый отчет о результатах тестирования поиска подстрок

## Цель тестирования

Целью тестирования было оценить производительность различных алгоритмов поиска подстрок в текстах разной длины и с шаблонами разного размера. Мы протестировали следующие гипотезы:

1. **Brute-force (наивный поиск)** окажется самым медленным на больших объемах данных.
2. **Алгоритмы с предобработкой (KMP, Z-algorithm, Aho-Corasick)** покажут стабильно хорошее время работы на длинных текстах, особенно если подстрока отсутствует.
3. **Rabin-Karp** будет эффективнее на коротких шаблонах, но его случайные коллизии могут приводить к дополнительным пересчетам.
4. **Shift-or** покажет хорошие результаты только на коротких подстроках (до 63 символов).
5. **Разные операционные системы** могут оказывать влияние на производительность (менеджмент памяти, особенности кеширования и компиляции).

Тестирование проводилось на трех операционных системах: **Ubuntu Linux, Windows и macOS**.

### **1. Текст 1,000,000 символов, паттерн 10,000 символов (Подстрока найдена)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|-----------------|--------------|-------------|------------|------------|
| Brute-force  | 10               | 5.69            | 2            | 5.12        | 29         | 0.14       |
| KMP          | 21               | 10.51           | 2            | 5.40        | 71         | 10.52      |
| Rabin-Karp   | 15               | 5.69            | 5            | 5.38        | 26         | 0.14       |
| Z-algorithm  | 22               | 10.51           | 3            | 5.42        | 43         | 0.16       |
| Shift-or     | —                | —               | —            | —           | —          | —          |
| Aho-Corasick | 40               | 7.69            | 1            | 6.03        | 50         | 6.81       |
| Suffix Tree  | 4371             | 70.09           | 918          | 66.39       |4501         | 97.55      |
| Boyer Moore  | 0                | 0.12            | 0            | 4.68        | 1          | 0.12       |

---

### **2. Текст 1,000,000 символов, паттерн 10,000 символов (Подстрока не найдена)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|-----------------|--------------|-------------|------------|------------|
| Brute-force  | 12               | 5.69            | 3            | 5.20        | 24         | 0.12       |
| KMP          | 23               | 10.51           | 2            | 5.45        | 53         | 0.14       |
| Rabin-Karp   | 20               | 5.69            | 1            | 5.41        | 29         | 0.12       |
| Z-algorithm  | 22               | 10.51           | 2            | 5.38        | 41         | 0.27       |
| Shift-or     | —                | —               | —            | —           | —          | —          |
| Aho-Corasick | 50               | 7.69            | 3            | 6.02        | 54         | 6.73       |
| Suffix Tree  | 4273             | 69.72           | 928          | 66.41       | 3348        | 106.02     |
| Boyer Moore  | 0               | 0.25             | 0            | 4.71        | 1          | 2.41       |

---

### **3. Текст 500,000 символов, паттерн 1,000 символов (Подстрока найдена)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|-----------------|--------------|-------------|------------|------------|
| Brute-force  | 0                | 0.12            | 0            | 1.23        | 0          | 0.11       |
| KMP          | 9                | 7.20            | 1            | 4.78        | 29         | 6.08       |
| Rabin-Karp   | 0                | 0.25            | 2            | 1.98        | 1          | 0.11       |
| Z-algorithm  | 10               | 7.21            | 3            | 5.10        | 33         | 0.23       |
| Shift-or     | —                | —               | —            | —           | —          | —          |
| Aho-Corasick | 2                | 0.50            | 1            | 1.65        | 5          | 0.11       |
| Suffix Tree  | 2041             | 42.61           | 438          | 35.45       | 1917        | 58.59      |
| Boyer Moore  | 0                | 0.12            | 0            | 1.23        | 0          | 0.12       |

---

### **4. Текст 500,000 символов, паттерн 1,000 символов (Подстрока не найдена)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|-----------------|--------------|-------------|------------|------------|
| Brute-force  | 6                | 0.25            | 2            | 1.96        | 13         | 3.36       |
| KMP          | 12               | 7.08            | 1            | 4.85        | 38         | 2.39       |
| Rabin-Karp   | 10               | 4.71            | 3            | 2.75        | 16         | 3.67       |
| Z-algorithm  | 11               | 7.21            | 1            | 5.12        | 18         | 0.12       |
| Shift-or     | —                | —               | —            | —           | —          | —          |
| Aho-Corasick | 23               | 4.95            | 2            | 4.42        | 24         | 3.77       |
| Suffix Tree  | 2054             | 40.61           | 427          | 35.90       | 2060        | 49.81      |
| Boyer Moore  | 0               | 0.25             | 0            | 1.25        | 0          | 0.12       |

---

### **5. Текст 1,000,000 символов, паттерн 10,000 символов (Подстрока не найдена, тест анти-Brute-force)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|--------------------|--------------|-------------|------------|------------|
| Brute-force  | 111256           | 5.69               | 6258         | 6.00        | 279104     | 5.73       |
| KMP          | 43               | 10.50              | 3            | 4.63        | 97         | 11.61      |
| Rabin-Karp   | 20               | 5.56               | 3            | 6.07        | 37         | 5.69       |
| Z-algorithm  | 42               | 10.50              | 2            | 4.93        | 64         | 10.50      |
| Shift-or     | —                | —                  | —            | —           | —          | —          |
| Aho-Corasick | 160              | 7.81               | 3            | 8.55        | 157        | 7.03       |
| Suffix Tree  | 3179             | 104.06             | 651          | 102.80      | 3270       | 133.48     |
| Boyer Moore  | 22               | 5.81               | 5            | 4.71        | 32         | 0.12       |

---

### **6. Текст 500,000 символов, паттерн 63 символа (Подстрока найдена)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|-----------------|--------------|-------------|------------|------------|
| Brute-force  | 6                | 0.25            | 1            | 1.20        | 11         | 3.15       |
| KMP          | 12               | 7.20            | 2            | 4.85        | 35         | 6.08       |
| Rabin-Karp   | 9                | 4.69            | 3            | 2.50        | 32         | 3.88       |
| Z-algorithm  | 11               | 7.20            | 3            | 5.12        | 33         | 4.02       |
| Shift-or     | 28               | 4.70            | 1            | 4.28        | 31         | 4.38       |
| Aho-Corasick | 21               | 4.70            | 2            | 3.69        | 24         | 3.85       |
| Suffix Tree  | 2092             | 42.61           | 431          | 34.02       | 1959        | 52.69      |
| Boyer Moore  | 0                | 0.25            | 0            | 1.24        | 1          | 0.12       |

---

### **7. Текст 500,000 символов, паттерн 63 символа (Подстрока не найдена)**

| Алгоритм      | Ubuntu Linux (мс) | Ubuntu Linux (MB) | Windows (мс) | Windows (MB) | macOS (мс) | macOS (MB) |
|--------------|------------------|-----------------|--------------|-------------|------------|------------|
| Brute-force  | 6                | 0.25            | 1            | 1.24        | 87         | 3.20       |
| KMP          | 12               | 7.20            | 2            | 4.88        | 30         | 6.10       |
| Rabin-Karp   | 10               | 4.70            | 3            | 2.53        | 17         | 3.90       |
| Z-algorithm  | 11               | 7.20            | 1            | 5.10        | 19         | 4.05       |
| Shift-or     | 30               | 4.70            | 0            | 0.78            | 34         | 4.40       |
| Aho-Corasick | 21               | 4.70            | 2            | 3.72        | 36         | 3.87       |
| Suffix Tree  | 2049             | 44.61           | 429          | 35.30       | 1816        | 65.28      |
| Boyer Moore  | 0                | 0.25            | 0            | 1.23        | 1          | 0.12       |

---

## 2. Итоговый вывод

- **Brute-force** плохо работает на больших объемах данных, особенно в худшем сценарии (anti-Brute-force).
- **KMP и Z-algorithm** продемонстрировали стабильность, особенно при отсутствии подстроки.
- **Rabin-Karp** оказался конкурентоспособным на малых шаблонах, но его работа варьировалась в зависимости от данных.
- **Shift-or** применим только для коротких шаблонов (до 63 символов).
- **Aho-Corasick** в основном уступает другим алгоритмам.

### **Операционные системы**
- **Windows** показала минимальное время выполнения в некоторых тестах, особенно на коротких подстроках.
- **Ubuntu Linux** обеспечила наиболее **стабильные** результаты во всех тестах.
- **macOS** демонстрировала наиболее длинные задержки в среднем, но потребление памяти оказалось умеренным.

Таким образом, выбор лучшего алгоритма зависит от конкретных требований:
- Для длинных текстов **KMP** или **Z-algorithm**.  
- Для коротких шаблонов **Shift-or** (до 63 символов).  
- Для случайных данных **Rabin-Karp**, хотя возможны вариации времени из-за коллизий.
